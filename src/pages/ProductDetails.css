/* Import design system variables (these are available globally) */

/* Container */
.pd-page{
  max-width: 1100px;
  margin: 0 auto;
  padding: var(--space-4) var(--space-3);
  background: var(--bg-primary);
  color: var(--text-primary);
  min-height: 100vh;
}

/* Not found */
.pd-notfound { 
  padding: var(--space-10); 
  font-size: var(--text-xl); 
  color: var(--error); 
  text-align: center;
}

/* Breadcrumb */
.pd-breadcrumb { 
  margin-bottom: var(--space-3); 
  font-size: var(--text-sm); 
  color: var(--text-tertiary);
}
.pd-link { 
  color: var(--primary); 
  text-decoration: none; 
  font-weight: var(--weight-semibold); 
  transition: color 0.2s ease;
}
.pd-link:hover { 
  color: var(--primary-hover);
  text-decoration: underline; 
}
.pd-sep { 
  opacity: 0.6; 
  margin: 0 var(--space-2);
}
.pd-current { 
  color: var(--text-primary); 
  font-weight: var(--weight-medium);
}

/* Grid layout */
.pd-grid{
  display: grid;
  grid-template-columns: minmax(300px, 0.9fr) minmax(350px, 1fr);
  gap: var(--space-6);
  align-items: start;
  margin-top: var(--space-2);
}

@media (max-width: 1024px) { 
  .pd-grid { 
    grid-template-columns: 1fr; 
    gap: var(--space-8);
  } 
}

/* Gallery */
.pd-gallery { 
  width: 100%; 
}

.pd-hero {
  background: var(--bg-card);
  background-image: 
    radial-gradient(600px 300px at 50% -20%, rgba(255,122,0,.08), transparent 60%),
    linear-gradient(135deg, rgba(255,122,0,0.05) 0%, transparent 50%);
  border: 1px solid var(--border);
  border-radius: var(--radius-2xl);
  padding: var(--space-3);
  box-shadow: var(--shadow-lg);
  transition: all 0.3s ease;
}

.pd-hero:hover {
  box-shadow: var(--shadow-2xl);
  border-color: var(--border-light);
}

.pd-hero-img {
  width: 100%;
  height: 100%;
  aspect-ratio: 1 / 1;
  object-fit: contain;
  background: transparent !important;
  border-radius: var(--radius-lg);
  transition: transform 0.3s ease;
}

.pd-hero:hover .pd-hero-img {
  transform: scale(1.02);
}

@media (max-width: 860px) { 
  .pd-hero-img { 
    aspect-ratio: 1 / 1; 
  } 
}

/* Thumbs */
.pd-thumbs {
  display: flex;
  gap: var(--space-2);
  margin-top: var(--space-3);
  overflow-x: auto;
  padding-bottom: var(--space-2);
  scrollbar-width: thin;
  scroll-snap-type: x mandatory;
}

.pd-thumbs::-webkit-scrollbar { 
  height: 6px; 
}

.pd-thumbs::-webkit-scrollbar-thumb { 
  background: var(--border-dark); 
  border-radius: var(--radius-lg); 
}

.pd-thumb {
  flex: 0 0 auto;
  background: var(--bg-subtle);
  border: 1px solid var(--border);
  border-radius: var(--radius-xl);
  padding: var(--space-1);
  cursor: pointer;
  width: 60px;
  height: 60px;
  scroll-snap-align: center;
  transition: all 0.2s ease;
}

.pd-thumb:hover,
.pd-thumb:focus-visible { 
  transform: translateY(-2px); 
  outline: none; 
  border-color: var(--primary);
  box-shadow: var(--shadow-primary);
}

.pd-thumb.is-active { 
  background: rgba(255,122,0,0.1); 
  border-color: var(--primary); 
  box-shadow: var(--shadow-primary);
}

.pd-thumb-img { 
  width: 100%; 
  height: 100%; 
  object-fit: contain; 
  border-radius: var(--radius-lg); 
}

/* Info */
.pd-title { 
  margin: 0 0 var(--space-2) 0; 
  font-size: var(--text-3xl); 
  line-height: var(--leading-tight); 
  color: var(--text-primary);
  font-weight: var(--weight-bold);
}

.pd-desc { 
  margin-top: var(--space-3); 
  color: var(--text-secondary); 
  line-height: var(--leading-relaxed); 
  font-size: var(--text-base);
}

/* Variants / Swatches (vetëm për Fujifilm Mini 12) */
.pd-variants { 
  margin-top: var(--space-4); 
}

.pd-variants-label { 
  font-size: var(--text-sm); 
  color: var(--text-tertiary); 
  margin-bottom: var(--space-2); 
  font-weight: var(--weight-medium);
}

.pd-swatches { 
  display: flex; 
  gap: var(--space-3); 
  align-items: center; 
  flex-wrap: wrap; 
}

.pd-swatch {
  width: 32px; 
  height: 32px; 
  border-radius: 50%;
  border: 2px solid var(--border);
  background: var(--swatch, #999);
  cursor: pointer; 
  outline: none;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,0.2);
  transition: all 0.2s ease;
}

.pd-swatch:hover,
.pd-swatch:focus-visible { 
  transform: translateY(-1px); 
  box-shadow: var(--shadow-lg), inset 0 0 0 1px rgba(0,0,0,0.2);
}

.pd-swatch.is-active {
  box-shadow: 0 0 0 3px var(--primary), inset 0 0 0 1px rgba(0,0,0,0.2);
  border-color: var(--primary);
}

/* Price row */
.pd-price-row {
  margin-top: var(--space-3);
  display: flex; 
  align-items: center; 
  gap: var(--space-3); 
  flex-wrap: wrap;
}

.pd-old { 
  color: var(--text-tertiary); 
  text-decoration: line-through; 
  font-size: var(--text-lg); 
  font-weight: var(--weight-medium);
}

.pd-price { 
  color: var(--primary); 
  font-weight: var(--weight-black); 
  font-size: var(--text-3xl); 
  letter-spacing: -0.5px;
}

.pd-stock { 
  margin-left: var(--space-2); 
  font-size: var(--text-sm); 
  font-weight: var(--weight-bold); 
  padding: var(--space-1) var(--space-3);
  border-radius: var(--radius-full);
  background: var(--bg-subtle);
}

.pd-stock.in { 
  color: var(--success); 
  background: rgba(34, 197, 94, 0.1);
}
.pd-stock.out { 
  color: var(--error); 
  background: rgba(239, 68, 68, 0.1);
}

/* CTA Actions */
.pd-actions {
  display: flex; 
  gap: var(--space-3); 
  align-items: center; 
  flex-wrap: wrap; 
  margin-top: var(--space-4);
}

.pd-actions .MuiButton-root {
  border-radius: var(--radius-full);
  padding: var(--space-4) var(--space-6);
  font-weight: var(--weight-bold);
  font-size: var(--text-base);
  line-height: var(--leading-tight);
  box-shadow: var(--shadow-md);
  text-transform: none;
  transition: all 0.2s ease;
  will-change: transform;
}

.pd-actions .MuiButton-root:hover {
  transform: translateY(-2px);
  box-shadow: var(--shadow-2xl);
}

/* Shto në Shportë button */
.pd-add-btn {
  background: var(--primary) !important;
  color: white !important;
  width: 52px; 
  height: 52px;
  padding: 0 !important;
  border-radius: 50% !important;
  display: inline-flex; 
  align-items: center; 
  justify-content: center;
  box-shadow: var(--shadow-button) !important;
}

.pd-add-btn:hover { 
  background: var(--primary-hover) !important; 
  box-shadow: var(--shadow-button-hover) !important;
}

/* WhatsApp button */
.pd-wa-btn {
  background: #25D366 !important;
  color: white !important;
  box-shadow: var(--shadow-button) !important;
}

.pd-wa-btn:hover { 
  background: #1da851 !important; 
  box-shadow: var(--shadow-button-hover) !important;
}

/* Category label */
.pd-cat { 
  margin-top: var(--space-4); 
  font-size: var(--text-sm); 
  color: var(--text-tertiary); 
  font-weight: var(--weight-medium);
}

/* Specs section */
.pd-specs { 
  margin-top: var(--space-4); 
  border-top: 1px solid var(--border); 
  padding-top: var(--space-3); 
}

.pd-specs-title { 
  margin: 0 0 var(--space-4) 0; 
  color: var(--text-primary); 
  font-size: var(--text-xl); 
  font-weight: var(--weight-bold); 
}

.pd-specs-table {
  width: 100%; 
  border-collapse: separate; 
  border-spacing: 0;
  background: var(--bg-card); 
  border: 1px solid var(--border); 
  border-radius: var(--radius-xl); 
  overflow: hidden;
  box-shadow: var(--shadow-sm);
}

.pd-specs-table tr + tr td, 
.pd-specs-table tr + tr th { 
  border-top: 1px solid var(--border-light); 
}

.pd-specs-k {
  width: 40%; 
  padding: var(--space-3) var(--space-4); 
  text-align: left; 
  background: var(--bg-subtle);
  color: var(--text-secondary); 
  font-weight: var(--weight-semibold); 
  vertical-align: top;
  font-size: var(--text-sm);
}

.pd-specs-v { 
  padding: var(--space-3) var(--space-4); 
  color: var(--text-primary); 
  font-weight: var(--weight-medium); 
  word-break: break-word; 
  font-size: var(--text-sm);
}

@media (max-width: 768px) {
  .pd-page { 
    padding: var(--space-6) var(--space-3); 
  }
  
  .pd-hero { 
    padding: var(--space-4); 
  }
  
  .pd-hero-img { 
    aspect-ratio: 1/1; 
  }
  
  .pd-title {
    font-size: var(--text-3xl);
  }
  
  .pd-price {
    font-size: var(--text-2xl);
  }
  
  .pd-actions { 
    gap: var(--space-3); 
    margin-top: var(--space-6); 
    flex-direction: column; 
    align-items: stretch; 
  }
  
  .pd-wa-btn { 
    width: 100%; 
  }
  
  .pd-add-btn { 
    width: 52px; 
    align-self: center; 
  }
}

@media (max-width: 600px) {
  /* Spec table in stacked mode */
  .pd-specs-k, 
  .pd-specs-v { 
    display: block; 
    width: 100%; 
    padding: var(--space-3) var(--space-4); 
  }
  
  .pd-specs-k { 
    border-bottom: 1px dashed var(--border-light); 
    background: var(--bg-subtle); 
  }
}

/* Ultra small devices */
@media (max-width: 400px) {
  .pd-title { 
    font-size: var(--text-2xl); 
  }
  
  .pd-actions .MuiButton-root { 
    font-size: var(--text-sm); 
    padding: var(--space-3) var(--space-4); 
  }
  
  .pd-price {
    font-size: var(--text-xl);
  }
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce){
  .pd-thumb, .pd-swatch{ transition:none; }
}
/* ====== MOBILE POLISH (nën 600px) ====== */
@media (max-width: 600px){
  /* Vendos layout-in e CTA si grid 2-kolonash për alignment perfekt */
  .pd-actions{
    display:grid;
    grid-template-columns: 56px 1fr; /* butoni shporta + WA full width */
    gap:12px;
    align-items:center;
    margin-top:16px;
  }

  /* lartësia/tap-target konsistente 48px */
  .pd-actions .MuiButton-root{
    height:48px;
    padding:0 18px;
    border-radius:999px;
    font-size:15px;
    font-weight:800;
    line-height:1;
    box-shadow:none;
  }

  /* Shporta si rreth i pastër, perfekt i centruar */
  .pd-add-btn{
    width:56px !important;
    height:48px !important;      /* i njëjtë me WA */
    border-radius:999px !important;
    display:flex; align-items:center; justify-content:center;
    padding:0 !important;
  }
  .pd-add-btn svg{ font-size:22px; }

  /* WhatsApp full-width, i balanësuar vizualisht */
  .pd-wa-btn{
    width:100%;
    justify-content:center;       /* ikonë + tekst në qendër */
    gap:10px;                     /* distanca mes ikonës dhe tekstit */
    letter-spacing:0.2px;
  }

  /* mikro-hije e butë vetëm te hover për ndjesi premium */
  .pd-actions .MuiButton-root:hover{
    transform:none;
    box-shadow:0 8px 20px rgba(0,0,0,.16);
  }
}

/* ====== TABLET POLISH (600–900px): pak më të mëdha ====== */
@media (min-width:600px) and (max-width:900px){
  .pd-actions .MuiButton-root{
    height:50px;
    padding:0 20px;
    border-radius:999px;
  }
  .pd-add-btn{ width:50px !important; height:50px !important; }
}

/* ====== RELATED PRODUCTS SECTION ====== */
.related-products {
  margin-top: var(--space-8);
  padding-top: var(--space-6);
  border-top: 1px solid var(--border);
}

.related-title {
  font-size: var(--text-2xl);
  font-weight: var(--weight-bold);
  color: var(--text-primary);
  margin-bottom: var(--space-5);
  text-align: center;
}

.related-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
  gap: var(--space-4);
}

.related-card {
  background: var(--bg-secondary);
  border-radius: var(--radius-lg);
  overflow: hidden;
  transition: all 0.3s ease;
  cursor: pointer;
  border: 1px solid var(--border);
}

.related-card:hover {
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
  border-color: var(--primary);
}

.related-image {
  aspect-ratio: 1;
  overflow: hidden;
  background: var(--bg-tertiary);
}

.related-image img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.related-card:hover .related-image img {
  transform: scale(1.05);
}

.related-info {
  padding: var(--space-3);
}

.related-name {
  font-size: var(--text-base);
  font-weight: var(--weight-semibold);
  color: var(--text-primary);
  margin-bottom: var(--space-2);
  line-height: 1.4;
  display: -webkit-box;
  -webkit-line-clamp: 2;
  line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.related-price {
  font-size: var(--text-lg);
  font-weight: var(--weight-bold);
  color: var(--primary);
}

.related-original-price {
  font-size: var(--text-sm);
  color: var(--text-tertiary);
  text-decoration: line-through;
  margin-top: var(--space-1);
}

/* Mobile responsive */
@media (max-width: 640px) {
  .related-grid {
    grid-template-columns: repeat(2, 1fr);
    gap: var(--space-3);
  }
  
  .related-card {
    border-radius: var(--radius-md);
  }
  
  .related-info {
    padding: var(--space-2);
  }
  
  .related-name {
    font-size: var(--text-sm);
  }
  
  .related-price {
    font-size: var(--text-base);
  }
}
